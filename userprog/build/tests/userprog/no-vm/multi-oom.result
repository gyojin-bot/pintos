FAIL
Kernel panic in run: PANIC at ../../threads/thread.c:324 in thread_current(): assertion `is_thread(t)' failed.
Call stack: 0x8004216fda 0x80042072b4 0x800420ad7a 0x800421a2df 0x800421a4ac 0x800421a490 0x80042154d9 0x8004214c11 0x800421a33f 0x80042144dd 0x800421c241 0x800421bdef 0x8004209504 0x8004209922 0x800421daa4 0x800421b95c 0x800421abe2 0x800420737a 0x800421c265 0x800421bdef 0x8004209504 0x8004209922 0x800421daa4 0x800421b95c 0x800421abe2 0x800420737a 0x800421c265 0x800421bdef 0x8004209504 0x8004209922 0x800421daa4 0x800421b95c 0x800421abe2 0x800420737a 0x800421c265 0x800421bdef 0x8004209504 0x8004209922 0x400305 0x40044b 0x400fb0
Translation of call stack:
0x0000008004216fda: debug_panic (lib/kernel/debug.c:32)
0x00000080042072b4: thread_current (threads/thread.c:325)
0x000000800420ad7a: lock_held_by_current_thread (threads/synch.c:280)
0x000000800421a2df: console_locked_by_current_thread (lib/kernel/console.c:111 (discriminator 2))
0x000000800421a4ac: putchar_have_lock (lib/kernel/console.c:174)
0x000000800421a490: vprintf_helper (lib/kernel/console.c:167)
0x00000080042154d9: format_string (lib/stdio.c:529 (discriminator 3))
0x0000008004214c11: __vprintf (lib/stdio.c:284)
0x000000800421a33f: vprintf (lib/kernel/console.c:123)
0x00000080042144dd: printf (lib/stdio.c:80)
0x000000800421c241: exit (userprog/syscall.c:178)
0x000000800421bdef: syscall_entry (??:?)
0x0000008004209504: intr_handler (threads/interrupt.c:352)
0x0000008004209922: intr_entry (threads/intr-stubs.o:?)
0x000000800421daa4: file_close (filesys/file.c:56)
0x000000800421b95c: process_close_file (userprog/process.c:845)
0x000000800421abe2: process_exit (userprog/process.c:295)
0x000000800420737a: thread_exit (threads/thread.c:346)
0x000000800421c265: Fork (userprog/syscall.c:183)
0x000000800421bdef: syscall_entry (??:?)
0x0000008004209504: intr_handler (threads/interrupt.c:352)
0x0000008004209922: intr_entry (threads/intr-stubs.o:?)
0x000000800421daa4: file_close (filesys/file.c:56)
0x000000800421b95c: process_close_file (userprog/process.c:845)
0x000000800421abe2: process_exit (userprog/process.c:295)
0x000000800420737a: thread_exit (threads/thread.c:346)
0x000000800421c265: Fork (userprog/syscall.c:183)
0x000000800421bdef: syscall_entry (??:?)
0x0000008004209504: intr_handler (threads/interrupt.c:352)
0x0000008004209922: intr_entry (threads/intr-stubs.o:?)
0x000000800421daa4: file_close (filesys/file.c:56)
0x000000800421b95c: process_close_file (userprog/process.c:845)
0x000000800421abe2: process_exit (userprog/process.c:295)
0x000000800420737a: thread_exit (threads/thread.c:346)
0x000000800421c265: Fork (userprog/syscall.c:183)
0x000000800421bdef: syscall_entry (??:?)
0x0000008004209504: intr_handler (threads/interrupt.c:352)
0x0000008004209922: intr_entry (threads/intr-stubs.o:?)
0x0000000000400305: (unknown)
0x000000000040044b: (unknown)
0x0000000000400fb0: (unknown)
